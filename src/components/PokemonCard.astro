---
type Props = {
  name: string;
  url: string;
  isDetail?: boolean;
};

const { name, url, isDetail = false } = Astro.props;

const pokemonId = url.split('/').at(-2);
const imgSrc = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${pokemonId}.png`;
---

<a href={`/pokemons/${name}`}>
  <article
    class:list={[
      'rounded flex flex-col justify-center items-center p-2',
      { border: !isDetail },
    ]}
  >
    <img
      transition:name={`${name}-image`}
      src={imgSrc}
      alt={`${name} Image`}
      class:list={[
        {
          'w-26 h-26': isDetail,
          'w-16 h-16': !isDetail,
        },
      ]}
    />
    <span
      class:list={[
        'capitalize',
        {
          'text-3xl': isDetail,
        },
      ]}>#{pokemonId} {name}</span
    >
  </article>
</a>
